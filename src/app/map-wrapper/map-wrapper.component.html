<div id=wrapper #wrapper>
    <header>
        <h3>Maps</h3>
        <input type=text placeholder="search label" [(ngModel)]="searchLabel">
        <select  id ="previousSearch" title="previous searches" 
                (change)="switchLayer(previousSearches[$event.target.value])" >
            <option *ngFor="let ps of previousSearches | keyvalue" [value]="ps.key">{{ps.value.label}}: {{ps.value.args}}</option>
        </select>
        
    
        <app-search-box (requestSearch)="mapSearch($event)"
                        [functions]=searchFncs
                        [filters]=filters>
        </app-search-box>
        
    </header>
    
    <content>
<app-map (msClicked)=displayMs($event) #map></app-map>

<!--<app-set-list (mapSet)=changeMap($event) #setList></app-set-list>-->
    <div id=setList #setList>
        <div class=header><h3>Sets</h3></div>
 <app-set *ngFor="let s of sets" 
          [set]=s 
          [queryData]=queryData
          [colorKey] = "map.colorKey"
          (mapSet)=changeMap($event) 
 (requestItem)= mapItem($event)
 (requestSelection)=mapSelection($event)
          #set></app-set>
    </div>
    <div id=selected #selected>
        <div class=header> <h3>Selected text:{{selectedText.id}} </h3></div>
        <app-ms-info #msInfo></app-ms-info>        
        
<app-item-list (requestItem)=mapItem($event)
               (requestSelection)=mapSelection($event)
               #itemList></app-item-list>
    </div>
    </content>
</div>